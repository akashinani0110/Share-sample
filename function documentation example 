# APC Viz â€“ Setup and Execution Guide

This project provides a visualization tool for APC data. Follow the instructions below to set up and run the tool successfully.

---

## ðŸ›  Built With

- **R** (version 4.4.2)
- **Python** (version 3.10+)

---

## ðŸ“ Shared Drive Setup

Use the teamâ€™s shared drive on the production server as your working directory:

\\nwtx0017-nas01.bankofamerica.com\rstudio_multp_prd1\teamspace\gwim_cio_investment_analytics

---

## ðŸš€ Getting Started

### 1. Clone the Repository

```bash
git clone ssh://git@scm.horizon.bankofamerica.com/cqd/viz_apc.git
```

### 2. Set Permissions and Navigate to Directory

```bash
chmod -R 777 viz_apc
cd viz_apc
```

### 3. Fetch Required Artifacts

You will need to fetch artifacts for both the `apc` and `viz_apc` folders using the Artifact Manager.

#### a. Activate Python Virtual Environment

```bash
source ../venv/bin/activate
```

#### b. Run Artifact Downloader

```bash
python ../artifact_manager/src/artifact_manager/multi_downloader.py
```

---

### 4. Install Python Packages

```bash
pip install pyarrow
```

---

### 5. Configure Python Path

Set your virtual environment path in the config:

```yaml
pythonPath: "Your Virtual Environment Path"
```

---

### 6. Run Main R Script

Use R environment (`renv`) to execute the dashboard script:

```r
source("src/1 Run APC Dashboard.R")
```

---

## âœ… Verify and Deploy

### 7. Verify Locally

Open the app in a browser and confirm all links are working.

### 8. Deploy to Posit Connect

```r
rsconnect::deployApp(
  appDir = "src/3 Shiny/",
  appName = "viz_apc",
  appTitle = "Automated Portfolio Construction"
)
```

---

## ðŸ” Optional: New Installation

1. Clone `develop` branch of both the APC and Artifact Manager repositories.
2. Fetch artifacts:

```bash
python src/artifact_manager/multi_downloader.py
```

3. Update your virtual environment path in `config/artifact_manager_config.json`.